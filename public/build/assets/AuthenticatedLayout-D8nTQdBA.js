import{j as e,$ as n,K as l,r as i}from"./app-9WHcwt9K.js";function c({active:t=!1,className:a="",children:s,...r}){return e.jsx(n,{...r,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${t?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800 dark:border-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300 dark:focus:border-indigo-300 dark:focus:bg-indigo-900 dark:focus:text-indigo-200":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800 dark:text-gray-400 dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-200 dark:focus:border-gray-600 dark:focus:bg-gray-700 dark:focus:text-gray-200"} text-xs transition duration-150 ease-in-out focus:outline-none ${a}`,children:s})}function m({amount:t,currency:a="USD",locale:s="en-US"}){return new Intl.NumberFormat(s,{style:"currency",currency:a}).format(t)}const w=(t,a)=>t.length!==a.length?!1:t.every((s,r)=>s===a[r]),g=t=>{const a=new URLSearchParams;return Object.entries(t.option_ids).forEach(([s,r])=>{a.append(`options[${s}]`,r+"")}),route("product.show",t.slug)+"?"+a.toString()};function j(){const{totalQuantity:t,totalPrice:a,miniCartItems:s}=l().props;return e.jsx("div",{children:e.jsxs("div",{className:"dropdown dropdown-end mr-5",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle",children:e.jsxs("div",{className:"indicator",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"badge badge-sm indicator-item bg-purple-800 text-white",children:t})]})}),e.jsx("div",{tabIndex:0,className:"card card-compact dropdown-content bg-base-100 z-[1] mt-3 w-[480px] shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("span",{className:"text-lg font-bold",children:[t," Items"]}),e.jsxs("div",{className:"my-1 max-h-[300px] overflow-auto",children:[s.length===0&&e.jsx("div",{className:"py-2 text-gray-500 text-center",children:"You don't have any items yet."}),s.map(r=>e.jsxs("div",{className:"flex gap-3 p-3 border-b items-start",children:[e.jsx(n,{href:g(r),children:e.jsx("img",{src:r.image,alt:r.title,className:"w-16 h-16 object-contain rounded"})}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:e.jsx(n,{href:g(r),children:r.title})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsxs("span",{children:["Quantity: ",r.quantity]}),e.jsx("span",{children:e.jsx(m,{amount:r.quantity*r.price})})]})]})]},r.id))]}),e.jsxs("span",{className:"text-lg font-semibold",children:["Subtotal: ",e.jsx(m,{amount:a})]}),e.jsx("div",{className:"card-actions",children:e.jsx(n,{href:route("cart.index"),className:"btn bg-purple-800 text-white hover:bg-purple-700 btn-block",children:"View cart"})})]})})]})})}function f(){const[t,a]=i.useState(!1),{auth:s}=l().props,{user:r}=s;return e.jsx("div",{className:"shadow-sm border-b border-gray-100 dark:border-gray-700 dark:bg-gray-800 sticky top-0 z-10 bg-base-100",children:e.jsxs("div",{className:"navbar container mx-auto px-4",children:[e.jsxs("div",{className:"navbar-start",children:[e.jsxs("div",{className:"lg:hidden dropdown",children:[e.jsx("button",{onClick:()=>a(!t),className:"btn btn-ghost btn-circle",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),t&&e.jsxs("ul",{className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52 absolute left-0",children:[e.jsx("li",{children:e.jsx(n,{href:"/",className:"font-medium",children:"Home"})}),e.jsx("li",{children:e.jsx(n,{href:"/shop",className:"font-medium",children:"Shop"})}),e.jsx("li",{children:e.jsx(n,{href:"/about",className:"font-medium",children:"About"})}),e.jsx("li",{children:e.jsx(n,{href:"/contact",className:"font-medium",children:"Contact"})})]})]}),e.jsx(n,{href:"/",children:e.jsx("img",{src:"/images/logo-karthive-removebg.jpg",alt:"Karthive"})})]}),e.jsx("div",{className:"navbar-center hidden lg:flex",children:e.jsxs("ul",{className:"menu menu-horizontal px-1",children:[e.jsx("li",{children:e.jsx(n,{href:"/",className:"font-medium",children:"Home"})}),e.jsx("li",{children:e.jsx(n,{href:"/shop",className:"font-medium",children:"Shop"})}),e.jsx("li",{children:e.jsx(n,{href:"/about",className:"font-medium",children:"About"})}),e.jsx("li",{children:e.jsx(n,{href:"/contact",className:"font-medium",children:"Contact"})})]})}),e.jsxs("div",{className:"navbar-end",children:[e.jsx(j,{}),r&&e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:e.jsx("div",{className:"w-7 rounded-full ring ring-purple-800 ring-offset-base-100 ring-offset-2",children:e.jsx("img",{alt:"User avatar",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),e.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[e.jsx("li",{children:e.jsx(c,{className:"justify-between",href:route("profile.edit"),children:"Profile"})}),e.jsx("li",{children:e.jsx(c,{className:"justify-between",href:"",children:"Settings"})}),e.jsx("li",{children:e.jsx(c,{method:"post",href:route("logout"),as:"button",children:"Log Out"})})]})]}),!r&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{href:route("login"),className:"btn btn-ghost btn-sm rounded-lg hover:bg-purple-700 hover:text-white transition-colors",children:"Log in"}),e.jsx(n,{href:route("register"),className:"btn btn-sm rounded-lg bg-purple-800 text-white hover:bg-purple-700 focus:bg-purple-700",children:"Register"})]})})]})]})})}function y({header:t,children:a}){const s=l().props;s.auth.user;const[r,v]=i.useState(!1),[h,u]=i.useState([]),x=i.useRef({});return i.useEffect(()=>{if(s.success.message){const o={...s.success,id:s.success.time};u(d=>[o,...d]);const b=setTimeout(()=>{u(d=>d.filter(p=>p.id!==o.id)),delete x.current[o.id]},1e4);x.current[o.id]=b}},[s.success]),e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(f,{}),s.error&&e.jsx("div",{className:"container mx-auto px-8 mt-8",children:e.jsx("div",{className:"alert alert-error",children:s.error})}),h.length>0&&e.jsx("div",{className:"toast toast-top toast-end z-[1000] mt-16",children:h.map(o=>e.jsx("div",{className:"alert alert-success",children:e.jsx("span",{children:o.message})},o.id))}),e.jsx("main",{children:a})]})}export{y as A,m as C,g as P,w as a};
