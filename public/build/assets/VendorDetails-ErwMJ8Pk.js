import{r as h,K as f,m as k,j as e}from"./app-kJd0IbDP.js";import{P as a}from"./PrimaryButton-BVnvhlTS.js";import{M as V,S as E}from"./SecondaryButton-DV5_lPRn.js";import{I as j}from"./InputLabel-BDH987uX.js";import{T as B}from"./TextInput-2Zxn4f6N.js";import{I as v}from"./InputError-Bj0LQZBM.js";import"./transition-BXkMYQ9e.js";function P({className:g=""}){var u,x,p;const[b,n]=h.useState(!1),[N,c]=h.useState(""),s=f().props.auth.user,S=f().props.csrf_token,{data:d,setData:l,errors:i,post:m,processing:o,recentlySuccessful:_}=k({store_name:((u=s.vendor)==null?void 0:u.store_name)||s.name.toLowerCase().replace(/\s+/g,"-"),store_address:((x=s.vendor)==null?void 0:x.store_address)||""}),y=r=>{l("store_name",r.target.value.toLowerCase().replace(/\s+/g,"-"))},w=r=>{r.preventDefault(),m(route("vendor.store"),{preserveScroll:!0,onSuccess:()=>{t(),c("You can now create and publish products.")},onError:()=>{}})},C=r=>{r.preventDefault(),m(route("vendor.store"),{preserveScroll:!0,onSuccess:()=>{t(),c("Your details were updated.")},onError:()=>{}})},t=()=>{n(!1)};return e.jsxs("section",{className:g,children:[_&&e.jsx("div",{className:"toast toast-top toast-end z-[1000]",children:e.jsx("div",{className:"alert alert-success text-white",children:e.jsx("span",{children:N})})}),e.jsx("header",{children:e.jsxs("h2",{className:"flex justify-between mb-8 text-lg font-medium text-gray-900 dark:text-gray-100",children:["Vendor Details",((p=s.vendor)==null?void 0:p.status)&&e.jsx("span",{className:`badge text-white ${{pending:"badge-warning",rejected:"badge-error",approved:"badge-success"}[s.vendor.status]||""}`,children:s.vendor.status_label})]})}),e.jsxs("div",{children:[!s.vendor&&e.jsx(a,{onClick:r=>n(!0),disabled:o,children:"Become a Vendor"}),s.vendor&&e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(j,{htmlFor:"name",value:"Store Name"}),e.jsx(B,{id:"store_name",value:d.store_name,onChange:y,required:!0,isFocused:!0,autoComplete:"store_name",className:"mt-1 block w-full"}),e.jsx(v,{className:"mt-2",message:i.store_name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(j,{htmlFor:"name",value:"Store Address"}),e.jsx("textarea",{value:d.store_address,onChange:r=>l("store_address",r.target.value),className:"textarea textarea-bordered w-full mt-1 focus:border-violet-900 focus:ring-1 focus:ring-violet-900 dark:focus:border-indigo-600 dark:focus:ring-1 dark:focus:ring-indigo-600 focus:outline-none transition-all duration-200 ease-in-out",placeholder:"Enter Your Store Address"}),e.jsx(v,{className:"mt-2",message:i.store_address})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(a,{disabled:o,children:"Update"})})]}),e.jsxs("form",{action:route("stripe.connect"),method:"post",className:"my-8",children:[e.jsx("input",{type:"hidden",name:"_token",value:S}),s.stripe_account_active&&e.jsx("div",{className:"text-center text-gray-600 my-4 text-sm",children:"Yor are successfully connected to Stripe"}),e.jsx("div",{className:"w-full",children:e.jsx(a,{className:"w-full justify-center",disabled:s.stripe_account_active,children:"Connect to Stripe"})})]})]})]}),e.jsx(V,{show:b,onClose:t,children:e.jsxs("form",{onSubmit:w,className:"p-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure you want to become a Vendor?"}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx(E,{onClick:t,className:"normal-case",children:"Cancel"}),e.jsx(a,{disabled:o,className:"normal-case",children:"Confirm"})]})]})})]})}export{P as default};
