import{K as d,j as e,$ as o,r as a,m as f}from"./app-kJd0IbDP.js";function w(){const{departments:r}=d().props;return e.jsx("div",{className:"navbar bg-base-100 border-t min-h-4",children:e.jsx("div",{className:"navbar-center hidden lg:flex",children:e.jsx("ul",{className:"menu menu-horizontal menu-dropdown dropdown-hover px-1 z-20 py-0",children:r.map(s=>e.jsx("li",{children:e.jsx(o,{href:route("product.byDepartment",s.slug),children:s.name})},s.id))})})})}function y({isMenuOpen:r,toggleMenu:s,user:t,closeMenu:n}){const l=a.useRef(null),i=a.useRef(null);return a.useEffect(()=>{function c(h){r&&l.current&&!l.current.contains(h.target)&&i.current&&!i.current.contains(h.target)&&n()}return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[r,n]),e.jsxs(e.Fragment,{children:[e.jsx("button",{ref:i,onClick:s,className:"lg:hidden text-gray-600 hover:text-gray-900","aria-label":"Toggle menu",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),r&&e.jsxs("ul",{ref:l,className:"absolute top-16 left-0 z-40 w-52 bg-white border rounded-md shadow-lg p-2 space-y-2",children:[e.jsx("li",{children:e.jsx(o,{href:route("dashboard"),className:"block px-3 py-1 text-sm hover:text-purple-600",children:"Home"})}),e.jsx("li",{children:e.jsx(o,{href:route("shop"),className:"block px-3 py-1 text-sm hover:text-purple-600",children:"Shop"})}),e.jsx("li",{children:e.jsx(o,{href:"/about",className:"block px-3 py-1 text-sm hover:text-purple-600",children:"About"})}),e.jsx("li",{children:e.jsx(o,{href:"/contact",className:"block px-3 py-1 text-sm hover:text-purple-600",children:"Contact"})}),!t&&e.jsxs("li",{className:"flex flex-col space-y-2 border-t border-gray-200 pt-2",children:[e.jsx(o,{href:route("login"),className:"btn btn-ghost btn-sm rounded-lg hover:bg-purple-700 hover:text-white",children:"Log in"}),e.jsx(o,{href:route("register"),className:"text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 px-3 py-1.5 rounded-md",children:"Register"})]})]})]})}function N(){return e.jsx(o,{href:"/",className:"flex-shrink-0",children:e.jsx("img",{src:"/images/logo-karthive-removebg.jpg",alt:"Karthive",className:"h-8 w-auto"})})}function k(){const r=[{name:"Home",routeName:"dashboard"},{name:"Shop",routeName:"shop"},{name:"About",routeName:"about"},{name:"Contact",routeName:"contact"}];return e.jsx("div",{className:"hidden lg:flex lg:space-x-6 justify-center flex-1",children:r.map(({name:s,routeName:t})=>e.jsx(o,{href:route(t),className:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-purple-600",children:s},t))})}function S({title:r,titleId:s,...t},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},t),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const p=a.forwardRef(S);function M({title:r,titleId:s,...t},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},t),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const L=a.forwardRef(M);function R(){const{keyword:r}=d().props,s=f({keyword:r||""}),{url:t}=d(),n=l=>{l.preventDefault(),s.get(t,{preserveScroll:!0,preserveState:!0})};return e.jsx("div",{className:"hidden lg:block max-w-md w-full",children:e.jsxs("form",{onSubmit:n,className:"flex",children:[e.jsx("input",{type:"text",value:s.data.keyword,onChange:l=>s.setData("keyword",l.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-md focus:ring-purple-500 focus:border-purple-500 text-sm",placeholder:"Search products..."}),e.jsx("button",{type:"submit",className:"px-3 py-2 bg-purple-600 text-white border border-l-0 border-purple-600 rounded-r-md hover:bg-purple-700 text-sm",children:e.jsx(p,{className:"h-4 w-4"})})]})})}function C(){const[r,s]=a.useState(!1),{keyword:t}=d().props,n=f({keyword:t||""}),{url:l}=d(),i=c=>{c.preventDefault(),n.get(l,{preserveScroll:!0,preserveState:!0})};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"lg:hidden text-gray-600 hover:text-gray-900",onClick:()=>s(c=>!c),"aria-label":"Toggle mobile search",children:r?e.jsx(L,{className:"h-5 w-5"}):e.jsx(p,{className:"h-5 w-5"})}),r&&e.jsxs("form",{onSubmit:i,className:"absolute top-16 left-0 right-0 z-40 bg-white px-4 py-2 shadow-md flex items-center space-x-2",children:[e.jsx("input",{type:"text",autoFocus:!0,value:n.data.keyword,onChange:c=>n.setData("keyword",c.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500 text-sm",placeholder:"Search products..."}),e.jsx("button",{type:"submit",className:"px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm",children:e.jsx(p,{className:"h-4 w-4"})})]})]})}function m({active:r=!1,className:s="",children:t,...n}){return e.jsx(o,{...n,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${r?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800 dark:border-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300 dark:focus:border-indigo-300 dark:focus:bg-indigo-900 dark:focus:text-indigo-200":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800 dark:text-gray-400 dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-200 dark:focus:border-gray-600 dark:focus:bg-gray-700 dark:focus:text-gray-200"} text-xs transition duration-150 ease-in-out focus:outline-none ${s}`,children:t})}function E({user:r}){return r?e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:e.jsx("div",{className:"w-8 rounded-full ring ring-purple-600 ring-offset-1",children:e.jsx("img",{alt:"User avatar",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),e.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-50 mt-3 w-52 p-2 shadow",children:[e.jsx("li",{children:e.jsx(m,{href:route("profile.edit"),className:"justify-between",children:"Profile"})}),e.jsx("li",{children:e.jsx(m,{href:"",children:"Settings"})}),e.jsx("li",{children:e.jsx(m,{method:"post",href:route("logout"),as:"button",children:"Log Out"})})]})]}):e.jsxs("div",{className:"hidden lg:flex lg:items-center lg:space-x-3",children:[e.jsx(o,{href:route("login"),className:"btn btn-ghost btn-sm rounded-lg hover:bg-purple-700 hover:text-white",children:"Log in"}),e.jsx(o,{href:route("register"),className:"text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 px-3 py-1.5 rounded-md",children:"Register"})]})}function g({amount:r,currency:s="USD",locale:t="en-US"}){return new Intl.NumberFormat(t,{style:"currency",currency:s}).format(r)}const A=(r,s)=>r.length!==s.length?!1:r.every((t,n)=>t===s[n]),b=r=>{const s=new URLSearchParams;return Object.entries(r.option_ids).forEach(([t,n])=>{s.append(`options[${t}]`,n+"")}),route("product.show",r.slug)+"?"+s.toString()};function D(){const{totalQuantity:r,totalPrice:s,miniCartItems:t}=d().props;return e.jsx("div",{children:e.jsxs("div",{className:"dropdown dropdown-end mr-5",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle",children:e.jsxs("div",{className:"indicator",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"badge badge-sm indicator-item bg-purple-800 text-white",children:r})]})}),e.jsx("div",{tabIndex:0,className:"card card-compact dropdown-content bg-base-100 z-[1] mt-3 w-[480px] shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("span",{className:"text-lg font-bold",children:[r," Items"]}),e.jsxs("div",{className:"my-1 max-h-[300px] overflow-auto",children:[t.length===0&&e.jsx("div",{className:"py-2 text-gray-500 text-center",children:"You don't have any items yet."}),t.map(n=>e.jsxs("div",{className:"flex gap-3 p-3 border-b items-start",children:[e.jsx(o,{href:b(n),children:e.jsx("img",{src:n.image,alt:n.title,className:"w-16 h-16 object-contain rounded"})}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:e.jsx(o,{href:b(n),children:n.title})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsxs("span",{children:["Quantity: ",n.quantity]}),e.jsx("span",{children:e.jsx(g,{amount:n.quantity*n.price})})]})]})]},n.id))]}),e.jsxs("span",{className:"text-lg font-semibold",children:["Subtotal: ",e.jsx(g,{amount:s})]}),e.jsx("div",{className:"card-actions",children:e.jsx(o,{href:route("cart.index"),className:"btn bg-purple-800 text-white hover:bg-purple-700 btn-block",children:"View cart"})})]})})]})})}function z({user:r}){return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{}),e.jsx(C,{}),e.jsx(D,{}),e.jsx(E,{user:r})]})}function F(){const[r,s]=a.useState(!1),{auth:t}=d().props,{user:n}=t,l=()=>s(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"shadow-sm border-b border-gray-200 bg-white sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16 relative",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{isMenuOpen:r,toggleMenu:()=>s(!r),closeMenu:l,user:n}),e.jsx(N,{})]}),e.jsx(k,{}),e.jsx(z,{user:n})]})})}),e.jsx(w,{})]})}function B({header:r,children:s}){const t=d().props;t.auth.user;const[n,l]=a.useState(!1),[i,c]=a.useState([]),h=a.useRef({});return a.useEffect(()=>{if(t.success.message){const u={...t.success,id:t.success.time};c(x=>[u,...x]);const j=setTimeout(()=>{c(x=>x.filter(v=>v.id!==u.id)),delete h.current[u.id]},1e4);h.current[u.id]=j}},[t.success]),e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(F,{}),t.error&&e.jsx("div",{className:"container mx-auto px-8 mt-8",children:e.jsx("div",{className:"alert alert-error",children:t.error})}),i.length>0&&e.jsx("div",{className:"toast toast-top toast-end z-[1000] mt-16",children:i.map(u=>e.jsx("div",{className:"alert alert-success text-white",children:e.jsx("span",{children:u.message})},u.id))}),e.jsx("main",{children:s})]})}export{B as A,g as C,b as P,A as a};
